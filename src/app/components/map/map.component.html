<google-map
  #mapInstance="googleMap"
  [center]="center"
  [zoom]="zoom"
  (mapInitialized)="onMapInitialized($event)"
  (mapClick)="onMapClick($event)"
  width="100%"
  height="100%"
>
  @for (position of markers; track $index) {
    <map-marker
      [position]="{lat: position.lat, lng: position.lng}"
      (mapClick)="onMarkerClick($event)"
    ></map-marker>
  }
</google-map>

<div class="marker-form">
  <div id="markerFormTitle">
    {{ 'CREATE_SERVICE.MAP.ADD_MARKER.TITLE' | translate }}
  </div>
  <div id="markerFormContent">
    <app-input
      [label]="'CREATE_SERVICE.MAP.ADD_MARKER.DESCRIPTION'"
      [value]="newMarker.name"
      (onKeyUp)="onInputChange($event)"
    ></app-input>
    <div class="buttons-container">
      <app-button
        [disabled]="newMarker.name === ''"
        [label]="'LABELS.OK'"
        [style]="buttonStyles.PRIMARY"
        (onClick)="onCreateNewMarker()"
      ></app-button>
      <app-button
        [label]="'LABELS.CANCEL'"
        [style]="buttonStyles.SECONDARY"
        (onClick)="onCancelCreateNewMarker()"
      ></app-button>
    </div>
  </div>
</div>
